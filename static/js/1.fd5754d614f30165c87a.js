webpackJsonp([1],{109:function(e,t,o){function s(e){o(138)}var n=o(43)(o(120),o(155),s,"data-v-080ef5ac",null);e.exports=n.exports},120:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o(44),n=o.n(s),a=o(153),i=o.n(a);t.default={name:"login",data:function(){return{formItems:[],btns:[{text:"文本",type:"text",value:"输入文字"},{text:"输入",type:"input"},{text:"单选",type:"radio"},{text:"多选",type:"checkbox"},{text:"横线",type:"line",width:"100"},{text:"竖线",type:"verticalLine",height:"100"}],handleItem:{},offsetX:"",offsetY:"",chooseItems:[],chooseRect:{},area:"",chooseMode:!1}},methods:{keyD:function(e){"Shift"==e.key&&(this.chooseMode=!0),console.log(e)},keyU:function(e){"Shift"==e.key&&(this.chooseMode=!1),console.log(e)},areaMouseMove:function(e){console.log("move"),this.$set(this.$data.chooseRect,"endX",e.clientX-200),this.$set(this.$data.chooseRect,"endY",e.clientY)},areaMouseUp:function(e){this.area.removeEventListener("mousemove",this.areaMouseMove),this.chooseRect={}},areaMouseDown:function(e){this.area=this.$refs.area,this.area.addEventListener("mousemove",this.areaMouseMove),this.area.addEventListener("mouseup",this.areaMouseUp),this.chooseRect.startX=e.clientX-200,this.chooseRect.startY=e.clientY},clearClick:function(e){console.log("click"),this.chooseItems=[];for(var t=this.formItems.length-1;t>=0;t--)this.formItems[t].chosen=!1;e.preventDefault()},itemChoose:function(e,t){this.chooseMode?(this.chooseItems.push(t),t.chosen=!0,e.preventDefault()):(this.chooseItems[0]&&(this.chooseItems[0].chosen=!1),this.chooseItems=[t],t.chosen=!0)},itemDrag:function(e,t){this.handleItem=t,this.offsetX=e.offsetX,this.offsetY=e.offsetY},itemDragEnd:function(e,t){},drag:function(e,t){var o=n()(t);this.offsetX=e.offsetX,this.offsetY=e.offsetY,e.dataTransfer.setData("data",o)},drop:function(e){if(this.handleItem.type)this.handleItem.x=e.clientX-200-this.offsetX,this.handleItem.y=e.clientY-this.offsetY,this.handleItem={};else{var t=JSON.parse(e.dataTransfer.getData("data"));t.x=e.clientX-200-this.offsetX,t.y=e.clientY-this.offsetY,this.formItems.push(t),this.handleItem={}}}},components:{formElement:i.a},mounted:function(){},created:function(){var e=this;document.onkeydown=function(t){e.keyD(t)},document.onkeyup=function(t){e.keyU(t)}}}},121:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{}},methods:{},props:["value"],computed:{},mounted:function(){}}},130:function(e,t,o){t=e.exports=o(107)(!0),t.push([e.i,".mask[data-v-080ef5ac]{position:absolute;height:100%;width:100%;background:transparent;pointer-events:none}.item.choosed[data-v-080ef5ac]{border:1px dashed #000}.item[data-v-080ef5ac]:hover{background:#e6e6e6;cursor:pointer}.leftButtons[data-v-080ef5ac]{width:200px}.btn[data-v-080ef5ac]{background:#0ff;margin-top:10px;width:50px;text-align:center}.designArea[data-v-080ef5ac]{position:relative;background:#ccc;height:600px;width:600px}","",{version:3,sources:["/Users/zxs/Documents/workSpace/docare/docare_front/src/components/formDesigner/formDesigner.vue"],names:[],mappings:"AACA,uBACI,kBAAmB,AACnB,YAAY,AACZ,WAAY,AACZ,uBAA0B,AAC1B,mBAAqB,CACxB,AACD,+BACI,sBAAuB,CAC1B,AACD,6BACI,mBAAoB,AACpB,cAAe,CAClB,AACD,8BACI,WAAY,CACf,AACD,sBACI,gBAAoB,AACpB,gBAAiB,AACjB,WAAW,AACX,iBAAmB,CACtB,AACD,6BACI,kBAAmB,AACnB,gBAAoB,AACpB,aAAa,AACb,WAAY,CACf",file:"formDesigner.vue",sourcesContent:["\n.mask[data-v-080ef5ac]{\n    position: absolute;\n    height:100%;\n    width: 100%;\n    background: rgba(0,0,0,0);\n    pointer-events: none;\n}\n.item.choosed[data-v-080ef5ac]{\n    border:1px dashed #000;\n}\n.item[data-v-080ef5ac]:hover{\n    background: #E6E6E6;\n    cursor:pointer;\n}\n.leftButtons[data-v-080ef5ac]{\n    width:200px;\n}\n.btn[data-v-080ef5ac]{\n    background: #00FFFF;\n    margin-top: 10px;\n    width:50px;\n    text-align: center;\n}\n.designArea[data-v-080ef5ac]{\n    position: relative;\n    background: #CCCCCC;\n    height:600px;\n    width:600px;\n}\n"],sourceRoot:""}])},136:function(e,t,o){t=e.exports=o(107)(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"formElement.vue",sourceRoot:""}])},138:function(e,t,o){var s=o(130);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);o(108)("c97000a8",s,!0)},144:function(e,t,o){var s=o(136);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);o(108)("fef27bf0",s,!0)},153:function(e,t,o){function s(e){o(144)}var n=o(43)(o(121),o(162),s,"data-v-b3d03904",null);e.exports=n.exports},155:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"flex"},[o("div",{staticClass:"leftButtons"},e._l(e.btns,function(t){return o("div",{staticClass:"btn",attrs:{draggable:"true"},on:{dragstart:function(o){e.drag(o,t)}}},[e._v("\n                    "+e._s(t.text)+"\n                ")])})),e._v(" "),o("div",[o("div",{ref:"area",staticClass:"designArea",on:{dragover:function(e){e.preventDefault()},drop:e.drop,click:function(t){e.clearClick(t)},mousedown:function(t){e.areaMouseDown(t)}}},[e._l(e.formItems,function(t){return o("div",{staticClass:"item",class:{choosed:t.chosen},staticStyle:{position:"absolute","min-height":"3px","min-width":"3px"},style:{left:t.x+"px",top:t.y+"px"},attrs:{draggable:"true"},on:{dragstart:function(o){o.stopPropagation(),e.itemDrag(o,t)},click:function(o){o.stopPropagation(),e.itemChoose(o,t)},mousedown:function(e){e.stopPropagation()}}},[o("form-element",{attrs:{value:t}})],1)}),e._v(" "),o("div",{staticClass:"mask"},[e.chooseRect.endX?o("div",{staticStyle:{background:"rgba(0,0,0,0.3)",position:"absolute"},style:{left:e.chooseRect.startX+"px",top:e.chooseRect.startY+"px",width:e.chooseRect.endX-e.chooseRect.startX+"px",height:e.chooseRect.endY-e.chooseRect.startY+"px"}}):e._e()])],2)]),e._v(" "),o("div",{staticClass:"editBox"},[o("div",[e._v("\n                    数据编辑区域\n                ")]),e._v(" "),e.chooseItems[0]&&e.chooseItems[0].value?o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.chooseItems[0].value,expression:"chooseItems[0].value"}],attrs:{type:"",name:""},domProps:{value:e.chooseItems[0].value},on:{input:function(t){t.target.composing||(e.chooseItems[0].value=t.target.value)}}})]):e._e(),e._v(" "),e.chooseItems[0]&&e.chooseItems[0].width?o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.chooseItems[0].width,expression:"chooseItems[0].width"}],attrs:{type:"",name:""},domProps:{value:e.chooseItems[0].width},on:{input:function(t){t.target.composing||(e.chooseItems[0].width=t.target.value)}}})]):e._e(),e._v(" "),e.chooseItems[0]&&e.chooseItems[0].height?o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.chooseItems[0].height,expression:"chooseItems[0].height"}],attrs:{type:"",name:""},domProps:{value:e.chooseItems[0].height},on:{input:function(t){t.target.composing||(e.chooseItems[0].height=t.target.value)}}})]):e._e()])])])},staticRenderFns:[]}},162:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",["text"==e.value.type?o("div",[e._v("\n            "+e._s(e.value.value)+"\n\t\t")]):e._e(),e._v(" "),"input"==e.value.type?o("div",{model:{value:e.value.text,callback:function(t){e.value.text=t},expression:"value.text"}},[o("input",{style:{width:e.value.width+"px"},attrs:{type:"",name:""}})]):e._e(),e._v(" "),"radio"==e.value.type?o("div",{model:{value:e.value.text,callback:function(t){e.value.text=t},expression:"value.text"}},[o("input",{attrs:{type:"radio",name:""}})]):e._e(),e._v(" "),"checkbox"==e.value.type?o("div",{model:{value:e.value.text,callback:function(t){e.value.text=t},expression:"value.text"}},[o("input",{attrs:{type:"checkbox",name:""}})]):e._e(),e._v(" "),"line"==e.value.type?o("div",[o("div",{staticStyle:{"margin-top":"1px",height:"1px",background:"#000"},style:{width:e.value.width+"px"}})]):e._e(),e._v(" "),"verticalLine"==e.value.type?o("div",[o("div",{staticStyle:{"margin-left":"1px",width:"1px",background:"#000"},style:{height:e.value.height+"px"}})]):e._e()])},staticRenderFns:[]}}});
//# sourceMappingURL=1.fd5754d614f30165c87a.js.map